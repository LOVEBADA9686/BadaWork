<%@ page language="java" contentType="text/html; charset=EUC-KR" pageEncoding="EUC-KR"%>
   <%@page import="a.b.c.com.kbd.board.service.BoardService" %>
   <%@page import="a.b.c.com.kbd.board.service.BoardServiceImpl" %>
<%@page import="a.b.c.com.kbd.board.vo.BoardVO"%>
<%@page import="java.util.ArrayList" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>글 전체조회</title>
<style type="text/css">
	*{
		margin : 0 auto;
		/*text-align: center;*/
	}
	
	
	td, th{
		padding : 5px;
	}
	
	.tt{
		text-align: center;
	}
</style>
<script src="http://code.jquery.com/jquery-latext.min.js"></script>
<script type="text/javascript">
	
	// 체크박스 체크 확인하기
	function checkOnly(chk){
		// alert(">>> : " + chk);
		var chkObj =
		document.getElementsByName("bnumCheck");
		console.log("chkObj >>> : " + chkObj);
		for (var i=0; i < chkObj.length; i++){
			if(chkObj[i] !=chk){
				chkObj[i].checked = false;
			}
		}
	}
	
	$(document).ready(function(){
		
		// 등록하기
		$("#I").click(function(){
			location.href='/testKbd/kbd/board/board.html';
			
		});
		
		// 전체조회
		$("#SALL").click(function(){
			var isudType = document.boardSelectAllForm.ISUD_TYPE.value = "SALL";
			send(isudType);
		});
		
		// 수정하기
		$("#U").click(function(){
			
			var nCnt = chkInfo();
			if(nCnt == 0) {
				console.log('체크박스를 체크하세요');
				alert('체크박스를 체크하세요');
			}else{
				/* 자바스크립트 버전
				document.boardSelectAllForm.ISUD_TYPE.value = "U";
				alert("isudType U >>> : " + document.boardSelectAllForm.ISUD_TYPE.value);
				send(document.boardSelectAllForm.ISUD_TYPE.value);
				*/
				
				// jQuery 버전
				var v1 = $("#ISUD_TYPE").val('U');
				alert("v1 >>> : " + v1.val());
				send(v1);
			}
		});
		
		// 삭제하기
		$("#D").click(function(){
			
			var nCnt = chkInfo();
			if (nCnt == 0){
				console.log('체크박스를 체크하세요');
				alert('체크박스를 체크하세요');
			}else{
				/* 자바스크립트 버전
				document.boardSelectAllForm.ISUD_TYPE.value = "D";
				alert("isudType D >>> : " + document.boardSelectAllForm.ISUD_TYPE.value);
				send(document.boardSelectAllForm.ISUD_TYPE.value);
				*/
				
				// jQuery 버전
				var v2 = $("#ISUD_TYPE").val('D');
				alert("v2 >>> : " + v2.val());
				send(v2);
			}
		});
		
		// 체크박스 체크 카운트
		function chkInfo(){
			var obj = document.getElementsByName("bnumCheck");
			var nCnt = 0;
			for(var i=0; i < obj.length; i++){
				if(obj[i].checked == true) {
					nCnt++;
				}
			}
			console.log('nCnt >>> : ' + nCnt);
			return nCnt;
		}
		
		// submit
		function send(isudType){
			alert("isudType send >>> : " + isudType);
			
			$("#boardSelectAllForm").attr({
				"action":"/testKbd/board?ISUD_TYPE="+isudType,
				"method":"GET",
				"enctype":"application/x-www-form-urlencoded"
			}).submit();
		}
	});

</script>
</head>
<%request.setCharacterEncoding("EUC-KR"); %>
SELECT ALL
<%
	Object obj = request.getAttribute("aListAll");
	if(obj == null) return;
	
	ArrayList<BoardVO> aList = (ArrayList<BoardVO>)obj;
	int nCnt = aList.size();
	out.println(":::: 전체 조회 건수 " + nCnt + "건");
%>
<body>

</body>
</html>