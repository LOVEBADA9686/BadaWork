<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<%
	//jsp 에서 함수를 사용하려면 <%! 에서 사용하면 된다.
	private static String getTagValue(String sTag, Element eElement)
	{
		NodeList nlList = eElement.getElementByTagName(sTag).item(0).getChildNodes();
		Node nValue = (Node) nlList.item(0);
		return nValue.getNodeValue();
	}
%>
<%
	String xmlFilePath = CommnoXML.XML_FILE_PATH;
	// String xmlFilePath = "/testJsp/xml";
	File fXmlFile = new File(xmlFilePath + "/file.xml");
	
	DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
	DocumentBuilder dBuildr = dbFactory.newDocumentBuilder();
	
	Document doc = dBuilder.parse(fXmlFile);
	doc.getDocumentElement().normalize();
	
	out.println("Root element : " + doc.getDocumentElement().getNodeName() + "<br>");
	NodeList nList = doc.getElementsByTagName("staff");
	out.println("-------------------------<br>");
	
	for (int temp = 0; temp < nList.getLength(); temp++)
	{
		Node nNode = nList.item(temp);
		if(nNode.getNodeType() = Node.ELEMENT_NODE){
			
		Element eElement = (Element) nNode;
		
		out.println("First Name" + getTagValue("firstname", eElement) + "<br>");
		out.println("Last Name" + getTagValue("lastname", eElement) + "<br>");
		out.println("Nick Name" + getTagValue("nickname", eElement) + "<br>");
		out.println("Salary" + getTagValue("Salary", eElement) + "<br>");
			
		}
		
		
		
	}


%>
</body>
</html>